# POST请求常用的三种格式

### 【application/json】

- 按JSON格式提交

    ```json
    header: { 'content-type': 'application/json' }
    ```

- 前端发送
    - data的值是`json对象`
    - 不用自己序列化，内部会自动序列化后再给你传
        - 定义json对象
            ```js
            const body = {
                'favoriteIdArray': [1,2,3]
            }
            ```
        - 赋值给data
            ```js
            data: body,
            ```

- 后端接收
    - body取数据直接拿到json对象
    - 不用自己反序列化，因为内部会自动反序列化再给你
        ```
        const idArray = this.ctx.request.body.favoriteIdArray
        ```
        - 取数据中的数组，结果是`[1,2,3]`

### 【application/x-www-form-urlencoded】

- 按`普通`的form表单提交，不指定enctype属性时，会默认用这种方式

    ```js
    header: { 'content-type': 'application/x-www-form-urlencoded' }
    ```

- 前端发送
    - data的值是`字符串`，只能上传键值对，如果不是form自动组装，则需要自己用&去连接再赋值给data
        - 定义字符串
            ```js
            const body = 'x=1&y=2'
            ```
        - 赋值给data
            ```js
            data: body,
            ```

- 后端接收
    - body取数据直接拿到json对象，已经自动给你一一解析过了
        ```js
        this.ctx.request.body
        ```
        - 取body，结果是{ x: '1', y: '2' }

### 【application/form-data】

- 按`上传文件`的form表单提交，需要指定enctype属性为`multipart/form-data`

    ```js
    header: { 'content-type': 'application/form-data' }
    ```

- 前端发送
    - 会在Content-Type中指定boundary，用作后续隔离
        ```js
        Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW
        ```
        ```js
        ------WebKitFormBoundary7MA4YWxkTrZu0gW
        Content-Disposition: form-data; name="filekey"; filename=""
        
        ------WebKitFormBoundary7MA4YWxkTrZu0gW
        Content-Disposition: form-data; name="textkey"
        tttttt

        ------WebKitFormBoundary7MA4YWxkTrZu0gW--
        ```
        - 既可以上传多个文件，也可以上传多个键值对
        
        